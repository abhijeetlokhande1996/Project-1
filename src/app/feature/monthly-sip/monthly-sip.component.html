<div class="container-fluid">
  <div class="row justify-content-center text-center">
    <div class="col-3">
      <form [formGroup]="folioForm">
        <div class="form-group">
          <label>Enter Folio Number</label>
          <input
            type="number"
            class="form-control form-control-sm"
            [formControlName]="'folioNo'"
            appAutoFocus
          />
        </div>
      </form>
    </div>
    <div class="col-7">
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label>Enter From Date</label>
            <div class="input-group">
              <input
                class="form-control form-control-sm text-primary"
                name="dp"
                ngbDatepicker
                #d="ngbDatepicker"
                [(ngModel)]="startDate"
                (dateSelect)="onStartDateSelect($event)"
              />
              <div class="input-group-append">
                <span
                  class="input-group-text fa fa-calendar"
                  (click)="d.toggle()"
                ></span>
              </div>
            </div>
          </div>
        </div>
        <div class="col" *ngIf="startDate">
          <div class="form-group">
            <label>Enter To Date</label>
            <div class="input-group">
              <input
                class="form-control form-control-sm text-primary"
                name="dp"
                ngbDatepicker
                [minDate]="startDate"
                #d1="ngbDatepicker"
                [(ngModel)]="endDate"
                (dateSelect)="onEndDateSelect($event)"
              />
              <div class="input-group-append">
                <span
                  class="input-group-text fa fa-calendar"
                  (click)="d1.toggle()"
                ></span>
              </div>
            </div>
          </div>
        </div>
        <div class="col mt-4">
          <button class="btn btn-danger btn-sm" (click)="resetFilters()">
            Reset Filter
          </button>
        </div>
      </div>
    </div>
    <div class="col-2"></div>
  </div>
  <div
    class="row"
    *ngIf="filteredSipData && filteredSipData.length > 0; else noDataFoundBlock"
  >
    <div
      [ngClass]="{
        'col-8': folioForm.get('folioNo')?.value,
        col: !folioForm.get('folioNo')?.value
      }"
    >
      <app-prime-table
        [sipDataToShow]="filteredSipData"
        [colHeaderMapArray]="colHeaderMapArray"
      ></app-prime-table>
    </div>
    <div class="col-4" *ngIf="folioForm.get('folioNo')?.value">
      <app-chart
        [chartOptions]="chartOptions"
        [chartType]="chartType"
        [chartLegend]="chartLegend"
        [chartLabels]="chartLabel"
        [chartData]="chartData"
        [chartColor]="chartColor"
        [chartPlugins]="chartPlugins"
      >
      </app-chart>
    </div>
  </div>
  <ng-template #noDataFoundBlock>
    <div class="row">
      <div class="col text-center">
        <p class="text-danger h2">No Data Found</p>
      </div>
    </div>
  </ng-template>

  <button class="btn btn-success text-center mt-4" (click)="onClickPrint()">
    Print
  </button>
</div>
